schema: '2.0'
stages:
  load_data:
    cmd: python src\load_data.py --config=params.yaml
    deps:
    - path: data_given\stocks.csv
      md5: b20fdab8d1a99c9ab0176916d780d7f4
      size: 134290457
    - path: src\get_data.py
      md5: 4f990b7136dd3cadbf5ba774cf7f6520
      size: 676
    - path: src\load_data.py
      md5: 540ef7967c0dd2a4ad883fe32436b95e
      size: 587
    outs:
    - path: data\raw\stocks.csv
      md5: 5a54c49d13506bce6bdaea5de94b7605
      size: 134773008
  process_data:
    cmd: python src\process_data.py --config=params.yaml
    deps:
    - path: data\raw\stocks.csv
      md5: 5a54c49d13506bce6bdaea5de94b7605
      size: 134773008
    - path: src\process_data.py
      md5: 8366d6d3e9fd2470bbd0daf90138c939
      size: 789
    outs:
    - path: data\processed\stocks.csv
      md5: 5a54c49d13506bce6bdaea5de94b7605
      size: 134773008
  train_and_evaluate:
    cmd: python src\train_and_evaluate.py --config=params.yaml
    deps:
    - path: data\processed\stocks.csv
      md5: 5a54c49d13506bce6bdaea5de94b7605
      size: 134773008
    - path: src\train_and_evaluate.py
      md5: 3708ff147d80c6e5148012e25fc91731
      size: 2953
    params:
      params.yaml:
        estimators.HHDBSCAN.params.cluster_selection_epsilon: 4
        estimators.HHDBSCAN.params.min_cluster_size: 60
        estimators.HHDBSCAN.params.min_samples: 1
    outs:
    - path: report\params.json
      md5: 037e7e0d3975ab6d7eeca22619d4235a
      size: 92
    - path: report\scores.json
      md5: 41e1c1490a05cfc276569a2f1fced7f5
      size: 75
    - path: saved_models\model.joblib
      md5: 239e39c1123124927a3c4f37f2973be1
      size: 168396493
